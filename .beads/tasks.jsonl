{"id": "ROOT", "type": "epic", "title": "TradeMate Root", "desc": "Project Initialization", "status": "closed", "deps": [], "test": "echo 'Root'"}

{"id": "INFRA-01", "type": "task", "title": "Repo Scaffold", "desc": "Initialize Git. Create folders: `freqtrade/`, `brain/`, `shared_data/`. Create `STANDARDS.md` and `PROGRESS.log`.", "status": "closed", "deps": ["ROOT"], "test": "ls -R | grep STANDARDS.md"}
{"id": "INFRA-02", "type": "task", "title": "Docker Infrastructure", "desc": "Create `docker-compose.yml`. Service `ft_bot` (image: freqtradeorg/freqtrade:stable) and `brain` (python:3.11). Mount `./shared_data` volume to BOTH.", "status": "closed", "deps": ["INFRA-01"], "test": "docker compose config"}
{"id": "INFRA-03", "type": "task", "title": "Synapse DB", "desc": "Create `shared_data/init_db.py`. Script to create SQLite DB `signals.db` with table `active_signals` (pair, stop_loss, reason).", "status": "closed", "deps": ["INFRA-01"], "test": "python3 shared_data/init_db.py && ls shared_data/signals.db"}

{"id": "BODY-01", "type": "task", "title": "Freqtrade Config", "desc": "Run `freqtrade new-config`. Set `api_server.enabled=true`, `listen_ip_address=0.0.0.0`, `dry_run=true`.", "status": "closed", "deps": ["INFRA-02"], "test": "grep '0.0.0.0' freqtrade/user_data/config.json"}
{"id": "BODY-02", "type": "task", "title": "Sidecar Strategy", "desc": "Create `freqtrade/user_data/strategies/SidecarStrat.py`. Override `custom_stoploss` method to read `signals.db` for the current pair.", "status": "closed", "deps": ["BODY-01", "INFRA-03"], "test": "ls freqtrade/user_data/strategies/SidecarStrat.py"}

{"id": "BRAIN-01", "type": "task", "title": "Brain Setup", "desc": "Create `brain/Dockerfile` and `requirements.txt` (streamlit, pandas-ta, ccxt, sqlalchemy, requests, plotly).", "status": "closed", "deps": ["INFRA-02"], "test": "cat brain/requirements.txt"}
{"id": "BRAIN-02", "type": "task", "title": "Data Engine", "desc": "Create `brain/data.py`. Function `fetch_ohlcv(pair)` using CCXT. Returns DataFrame with standardized columns.", "status": "closed", "deps": ["BRAIN-01"], "test": "python -c 'from brain.data import fetch_ohlcv; print(fetch_ohlcv(\"BTC/USDT\").head())'"}
{"id": "BRAIN-03", "type": "task", "title": "Analysis Logic", "desc": "Create `brain/logic.py`. Function `analyze(df)`. Returns dict: `{'signal': bool, 'reason': str}` based on RSI/EMA.", "status": "closed", "deps": ["BRAIN-02"], "test": "pytest brain/tests/test_logic.py"}
{"id": "BRAIN-04", "type": "task", "title": "Execution Client", "desc": "Create `brain/execution.py`. Class with two methods: 1. `stage_signal()` (writes to DB). 2. `trigger_buy()` (calls Freqtrade API).", "status": "closed", "deps": ["BRAIN-01", "INFRA-03"], "test": "python -c 'import brain.execution'"}

{"id": "UI-01", "type": "task", "title": "Streamlit Skeleton", "desc": "Create `brain/app.py`. Setup Layout: Sidebar for settings, Main area with 'Scanner' and 'Monitor' tabs.", "status": "closed", "deps": ["BRAIN-01"], "test": "streamlit hello --no-interactive"}
{"id": "UI-02", "type": "task", "title": "Connect Logic", "desc": "Update `app.py`. Add 'Scan' button. Display results from `logic.analyze()` in a dataframe.", "status": "closed", "deps": ["UI-01", "BRAIN-03"], "test": "grep 'analyze' brain/app.py"}
{"id": "UI-03", "type": "task", "title": "Connect Execution", "desc": "Update `app.py`. Add 'Trade' button to rows. Link to `execution.trigger_buy()`.", "status": "closed", "deps": ["UI-02", "BRAIN-04"], "test": "grep 'trigger_buy' brain/app.py"}
{"id": "MERGE-B1", "type": "task", "title": "Merge Root Refactor", "desc": "Create/verify docs, beads, configs, scripts, reports folders and move merge planning into repo root.", "status": "open", "deps": [], "test": "powershell -Command \"Test-Path docs/PRD.md -and Test-Path beads/plan.yaml\""}
{"id": "MERGE-B2", "type": "task", "title": "Guardrails + Schema + Mapping", "desc": "Finalize signal schema with required chart_signal object, define USD->USDT mapping table, add schema validator and guardrail constants.", "status": "open", "deps": ["MERGE-B1"], "test": "pytest brain/tests/test_schema.py"}
{"id": "MERGE-B3", "type": "task", "title": "Strategy Fleet + Rate Budgeter", "desc": "Create configs/strategy_fleet.yaml, implement rate budgeter (80% cap), add instance manager to scale based on budget.", "status": "open", "deps": ["MERGE-B2"], "test": "pytest brain/tests/test_budgeter.py"}
{"id": "MERGE-B4", "type": "task", "title": "Chart Engine", "desc": "Build chart layer detection and pattern detectors; produce chart_signal + confluence score.", "status": "open", "deps": ["MERGE-B2"], "test": "pytest brain/tests/test_chart_engine.py"}
{"id": "MERGE-B5", "type": "task", "title": "Signal Bus", "desc": "Create signal_bus table with TTL + idempotency and implement push/pull/ack APIs.", "status": "open", "deps": ["MERGE-B2"], "test": "pytest brain/tests/test_bus.py"}
{"id": "MERGE-B6", "type": "task", "title": "Signal Export Adapter", "desc": "Emit signals from chart engine into bus in shadow mode with schema validation.", "status": "open", "deps": ["MERGE-B4", "MERGE-B5"], "test": "pytest brain/tests/test_exporter.py"}
{"id": "MERGE-B7", "type": "task", "title": "Execution Gateway", "desc": "Enforce mapping + TTL, retry with backoff, submit to Freqtrade API.", "status": "open", "deps": ["MERGE-B2", "MERGE-B5"], "test": "pytest brain/tests/test_gateway.py"}
{"id": "MERGE-B8", "type": "task", "title": "Freqtrade Consumer", "desc": "Update SidecarStrat to consume bus signals and apply stop_loss from payload.", "status": "open", "deps": ["MERGE-B5", "MERGE-B7"], "test": "pytest brain/tests/test_sidecar.py"}
{"id": "MERGE-B9", "type": "task", "title": "Reporting + Journal", "desc": "Generate 2-hour report with chart metrics and journal outcomes.", "status": "open", "deps": ["MERGE-B6", "MERGE-B7", "MERGE-B8"], "test": "pytest brain/tests/test_reporting.py"}
{"id": "MERGE-B10", "type": "task", "title": "Guardrail Tests", "desc": "Enforce STANDARDS.md constants/names and ensure no direct CCXT trading.", "status": "open", "deps": ["MERGE-B2", "MERGE-B5", "MERGE-B7", "MERGE-B8"], "test": "pytest brain/tests/test_guardrails.py"}
{"id": "MERGE-B11", "type": "task", "title": "Runbook + Scheduler", "desc": "Add scripts for plumbing test and 2-hour shotgun test; schedule run to finish by 9:00 AM MST.", "status": "open", "deps": ["MERGE-B9", "MERGE-B10"], "test": "powershell -File scripts/run_plumbing_test.ps1"}
{"id": "MERGE-B12", "type": "task", "title": "Stress + Comparison Pack", "desc": "Stress test rate limits and queue overflow; produce comparison pack vs 10-hour baseline.", "status": "open", "deps": ["MERGE-B9"], "test": "powershell -File scripts/build_comparison.ps1"}
